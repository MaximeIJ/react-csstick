import{r as L}from"./index.1f26a3b1.js";import{j as f,a as A}from"./jsx-runtime.07458cd8.js";function _(e){const o=n=>{const{id:t,onClick:l}=n;return f(e,{...n,onClick:a=>{l&&l([t,a].join("|"))}})};return o.displayName=`clickable(${e.displayName||e.name||"Component"})`,o}function E(e){return function(n){n.stopPropagation(),e()}}try{_.displayName="chainClickable",_.__docgenInfo={description:"",displayName:"chainClickable",props:{}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/hooks/chainClickable.tsx#chainClickable"]={docgenInfo:_.__docgenInfo,name:"chainClickable",path:"src/hooks/chainClickable.tsx#chainClickable"})}catch{}try{E.displayName="chainCall",E.__docgenInfo={description:"",displayName:"chainCall",props:{}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/hooks/chainClickable.tsx#chainCall"]={docgenInfo:E.__docgenInfo,name:"chainCall",path:"src/hooks/chainClickable.tsx#chainCall"})}catch{}const Y="3rem",W={childProps:[],type:"text",bgColor:"transparent",color:"#888888",coord:{x:"0",y:"0"},dimensions:{width:Y,height:Y,thickness:"2px"},id:"text bubble",onClick:()=>null,text:"",font:"Comic Sans MS, Comic Sans, cursive",fontSize:"1.5rem",fontWeight:"normal",borderColor:"transparent",borderRadius:"40%"};const M=(e,o)=>`calc(${e} * ${o})`,b=(e,o)=>`calc(${e} / ${o||1})`,d=e=>`calc(100% - var(--${e}))`,G=e=>`${e!=null?e:0}deg`,D=e=>{const{bgColor:o,color:n,width:t,height:l,thickness:i}=e;return{["--w"]:t,["--h"]:l,["--t"]:i,["--c"]:n,["--bgc"]:o}},U=(e,o)=>{const n=typeof e=="number"?[e]:e.slice(0,3),t={};return n.forEach((l,i)=>{const a=`--${o}-${i}`;t[a]=G(l)}),t},Z=e=>{var u,c,y,m;const{bgColor:o,color:n,width:t,height:l,thickness:i,base:a,coord:r,offsets:s}=e;return{...D({bgColor:o,color:n,width:t,height:l,thickness:i}),...U(a!=null?a:0,"base"),top:`calc(${(u=r==null?void 0:r.y)!=null?u:0} - ${(c=s==null?void 0:s.y)!=null?c:"0%"})`,left:`calc(${(y=r==null?void 0:r.x)!=null?y:0} - ${(m=s==null?void 0:s.x)!=null?m:"0%"})`}},J=e=>{const{font:o,fontSize:n,fontWeight:t,borderColor:l,borderRadius:i}=e;return{["--f"]:o,["--fs"]:n,["--fw"]:t,["--bc"]:l,["--br"]:i}},$=(e=W)=>{const{font:o,fontSize:n,fontWeight:t,bgColor:l,borderColor:i,borderRadius:a,color:r,dimensions:s,coord:u,text:c,onClick:y}=e,{width:m,height:C,thickness:p}={...W.dimensions,...s},S=Z({width:m,height:C,thickness:p,bgColor:l,color:r,coord:u}),k=J({font:o,fontSize:n,fontWeight:t,borderColor:i,borderRadius:a}),g={...S,...k};return f("div",{className:"bubble",style:g,onClick:E(y),children:f("div",{className:"text",children:c!=null?c:""})})},Q=_($);try{$.displayName="TextBubble",$.__docgenInfo={description:"",displayName:"TextBubble",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"(id?: string | undefined) => void"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"common"'},{value:'"stick"'},{value:'"text"'},{value:'"scene"'},{value:'"comic"'}]}},bgColor:{defaultValue:null,description:"",name:"bgColor",required:!1,type:{name:"string"}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string"}},coord:{defaultValue:null,description:"",name:"coord",required:!1,type:{name:"Coordinates"}},dimensions:{defaultValue:null,description:"",name:"dimensions",required:!1,type:{name:"Partial<Dimensions>"}},childProps:{defaultValue:null,description:"",name:"childProps",required:!1,type:{name:"CommonProps<unknown>[]"}},text:{defaultValue:null,description:"",name:"text",required:!1,type:{name:"string"}},font:{defaultValue:null,description:"",name:"font",required:!1,type:{name:"string"}},fontSize:{defaultValue:null,description:"",name:"fontSize",required:!1,type:{name:"string"}},fontWeight:{defaultValue:null,description:"",name:"fontWeight",required:!1,type:{name:"string"}},borderColor:{defaultValue:null,description:"",name:"borderColor",required:!1,type:{name:"string"}},borderRadius:{defaultValue:null,description:"",name:"borderRadius",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/TextBubble/TextBubble.tsx#TextBubble"]={docgenInfo:$.__docgenInfo,name:"TextBubble",path:"src/components/TextBubble/TextBubble.tsx#TextBubble"})}catch{}const z="12rem",h={childProps:[],children:[],bgColor:"transparent",color:"#888888",coord:{x:"0",y:"0"},customPos:{limbs:{base:10}},dimensions:{width:z,height:z,thickness:"2px"},id:"stick",onClick:()=>null,posId:"default",type:"stick"},X={default:h.customPos,custom:{},pointL:{limbs:{...h.customPos.limbs,arms:{left:{angle:[75,15]}}}},pointR:{limbs:{...h.customPos.limbs,arms:{right:{angle:[75,15]}}}},sitL:{limbs:{...h.customPos.limbs,legs:{left:{angle:90},right:{angle:90}}},offsets:{x:"0",y:"-3rem"}},walkL:{},walkR:{}};const O=(e=h)=>{var K;const{bgColor:o,color:n,posId:t,customPos:l,dimensions:i,coord:a,childProps:r,children:s,onClick:u}=e,c=t==="custom"&&l,{limbs:y,offsets:m}=c?l:X[t!=null?t:"custom"],{width:C,height:p,thickness:S}={...h.dimensions,...i},{base:k=0,arms:g,legs:x}={...h.customPos.limbs,...y},H=Z({width:C,height:p,thickness:S,bgColor:o,color:n,base:k,offsets:m,coord:a}),R=v=>{const N=v==null?void 0:v.angle,B={},P=N?U(N,"angle"):{};return f("div",{style:{...B,...P},children:f("div",{children:f("div",{})})})};return A("div",{className:"stick",style:H,onClick:E(u),children:[f("div",{className:"head"}),A("div",{className:"body",children:[A("div",{className:"arms",children:[R(g==null?void 0:g.left),R(g==null?void 0:g.right)]}),A("div",{className:"legs",children:[R(x==null?void 0:x.left),R(x==null?void 0:x.right)]})]}),(K=r||s)==null?void 0:K.map((v,N)=>{const{type:B}=v;let P=null;switch(B){case"stick":P=O;return;case"text":P=Q;break}return P&&L.exports.createElement(P,{...v,key:`stickchild-${N}`})})]})},ee=_(O);try{O.displayName="Stick",O.__docgenInfo={description:"",displayName:"Stick",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"(id?: string | undefined) => void"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"common"'},{value:'"stick"'},{value:'"text"'},{value:'"scene"'},{value:'"comic"'}]}},bgColor:{defaultValue:null,description:"",name:"bgColor",required:!1,type:{name:"string"}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string"}},coord:{defaultValue:null,description:"",name:"coord",required:!1,type:{name:"Coordinates"}},dimensions:{defaultValue:null,description:"",name:"dimensions",required:!1,type:{name:"Partial<Dimensions>"}},childProps:{defaultValue:null,description:"",name:"childProps",required:!1,type:{name:"CommonProps<unknown>[]"}},posId:{defaultValue:null,description:"",name:"posId",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"custom"'},{value:'"pointL"'},{value:'"pointR"'},{value:'"sitL"'},{value:'"walkL"'},{value:'"walkR"'}]}},customPos:{defaultValue:null,description:"",name:"customPos",required:!1,type:{name:"StickPosition"}},children:{defaultValue:null,description:"@deprecated use childProps instead",name:"children",required:!0,type:{name:"TextBubbleProps[]"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/Stick/Stick.tsx#Stick"]={docgenInfo:O.__docgenInfo,name:"Stick",path:"src/components/Stick/Stick.tsx#Stick"})}catch{}const j="50vmin",ne={childProps:[],color:h.color,type:"comic",bgColor:"transparent",coord:{x:"0",y:"0"},dimensions:{width:j,height:j,thickness:h.dimensions.thickness},id:"",onClick:()=>null,scenes:[],layout:[]};const F="100%",te={childProps:[],type:"scene",bgColor:"transparent",coord:{x:"0",y:"0"},color:h.color,dimensions:{width:F,height:F,thickness:h.dimensions.thickness},id:"",onClick:()=>null,sticks:[]},V="h",q="w",T="0%",ae={C:{x:b(d(q),2),y:b(d(V),2)},SW:{x:T,y:d(V)},W:{x:T,y:b(d(V),2)},NW:{x:T,y:T},N:{x:b(d(q),2),y:T},NE:{x:d(q),y:T},E:{x:d(q),y:b(d(V),2)},SE:{x:d(q),y:d(V)},S:{x:b(d(q),2),y:d(V)}};const w=({bgColor:e,color:o,dimensions:n,sticks:t,onClick:l})=>{const{width:i,height:a,thickness:r}=n!=null?n:te.dimensions,s=D({width:i,height:a,thickness:r,bgColor:e,color:o});return f("div",{className:"container",style:s,onClick:()=>l(),children:t==null?void 0:t.map((u,c)=>L.exports.createElement(ee,{...u,onClick:l,key:`stick-${c}-${u.id}`}))})},oe=_(w);try{w.displayName="Scene",w.__docgenInfo={description:"",displayName:"Scene",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"(id?: string | undefined) => void"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"common"'},{value:'"stick"'},{value:'"text"'},{value:'"scene"'},{value:'"comic"'}]}},bgColor:{defaultValue:null,description:"",name:"bgColor",required:!1,type:{name:"string"}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string"}},coord:{defaultValue:null,description:"",name:"coord",required:!1,type:{name:"Coordinates"}},dimensions:{defaultValue:null,description:"",name:"dimensions",required:!1,type:{name:"Partial<Dimensions>"}},childProps:{defaultValue:null,description:"",name:"childProps",required:!1,type:{name:"CommonProps<unknown>[]"}},sticks:{defaultValue:null,description:"@deprecated (ignore for now) use childProps field instead",name:"sticks",required:!1,type:{name:"StickProps[]"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/Scene/Scene.tsx#Scene"]={docgenInfo:w.__docgenInfo,name:"Scene",path:"src/components/Scene/Scene.tsx#Scene"})}catch{}const I=({bgColor:e,color:o,dimensions:n,layout:t,onClick:l,scenes:i})=>{const{width:a,height:r,thickness:s}=n!=null?n:ne.dimensions,u=D({width:a,height:r,thickness:s,bgColor:e,color:o}),c=L.exports.useMemo(()=>{const y=t.map(m=>{const C=m.reduce((p,S)=>p+S,0);return m.map(p=>p/(C||1))}).flat();return f("div",{className:"row",children:y.map((m,C)=>{var k;const p=i[C],S=p?{...p,dimensions:{...p.dimensions,width:M("100%",m),height:b((k=n==null?void 0:n.height)!=null?k:"",t.length||1)}}:void 0;return S&&f(oe,{...S,onClick:l},`scene-${C}`)})})},[n==null?void 0:n.height,t,i]);return f("div",{className:"container",style:u,children:c})},re=_(I);try{I.displayName="Comic",I.__docgenInfo={description:"",displayName:"Comic",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"(id?: string | undefined) => void"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"common"'},{value:'"stick"'},{value:'"text"'},{value:'"scene"'},{value:'"comic"'}]}},bgColor:{defaultValue:null,description:"",name:"bgColor",required:!1,type:{name:"string"}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"string"}},coord:{defaultValue:null,description:"",name:"coord",required:!1,type:{name:"Coordinates"}},dimensions:{defaultValue:null,description:"",name:"dimensions",required:!1,type:{name:"Partial<Dimensions>"}},childProps:{defaultValue:null,description:"",name:"childProps",required:!1,type:{name:"CommonProps<unknown>[]"}},scenes:{defaultValue:null,description:"@deprecated (ignore for now) use childProps field instead",name:"scenes",required:!0,type:{name:"SceneProps[]"}},layout:{defaultValue:null,description:"",name:"layout",required:!0,type:{name:"number[][]"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/Comic/Comic.tsx#Comic"]={docgenInfo:I.__docgenInfo,name:"Comic",path:"src/components/Comic/Comic.tsx#Comic"})}catch{}export{re as C,ne as D,oe as S,Q as T,ae as a,te as b,ee as c,h as d,W as e};
//# sourceMappingURL=Comic.c01bd853.js.map
